"use strict";!function(){var t=function(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t},e=function(t,e,n){for(var i=0;i<t.length;i++)e.call(n,t[i],i)},n=function(t){var n=$("<div class='typebox js-typebox'>");$(t.selector).html(n);var i=!1,r=function(i){if(n.empty(),0===i.length)return!1;var r=[],o=t.string.split(" ");return e(o,function(i,s){var a=$("<div class='typebox-word'>"),c=i.split("");if(e(c,function(t){var e=$("<span class='typebox-character'>");e.text(t),a.append(e),r.push(e)}),s+1<o.length){var p=$("<span class='typebox-character typebox-space'>");p.html(t.spaceCharacter),a.append(p),r.push(p)}n.append(a)}),r},o=function(t){i&&(e(i,function(t){t.removeClass("typebox-active")}),i[t].addClass("typebox-active"))},s=function(){i&&e(i,function(t){t.removeClass("typebox-active")})};return i=r(t.string),o(0),{$tb:n,setString:function(t){i=r(t),o(0)},highlightPosition:o,endHighlight:s}},i=function(t){return{position:0,string:t.string,next:t.string[0]||!1,started:!1,complete:!1}},r=function(e,r){r=t(r,{string:"",selector:e,spaceCharacter:"&nbsp;"});var o=n(r),s=i(r),a={state:function(){return s},reset:function(t){void 0!==t&&(r.string=t),o.setString(r.string),s=i(r)},applyCharacter:function(t){return"space"===t&&(t=" "),s.string?s.complete?{complete:!0}:(s.started=!0,s.next!==t?{accurate:!1,complete:!1,next:s.next}:(s.position++,s.next=s.string[s.position],void 0===s.next?(s.complete=!0,o.endHighlight(),{accurate:!0,complete:!0,next:!1}):(o.highlightPosition(s.position),{accurate:!0,complete:!1,next:s.next}))):{started:!1}}};return a},o=r,s="typebox";"undefined"!=typeof exports?module.exports=o:"function"==typeof define&&define.amd?define(s,function(){return o}):window[s]=o}();