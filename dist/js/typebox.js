"use strict";!function(){var t=function(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t},e=function(t,e,n){for(var i=0;i<t.length;i++)e.call(n,t[i],i)},n=function(t){var n=$("<div class='typebox js-typebox'>");$(t.selector).html(n);var i=!1,r=function(i){if(n.empty(),0===i.length)return!1;var r=[],o=t.string.split(" ");return e(o,function(i,c){var s=$("<div class='typebox-word'>");n.append(s);var a=i.split("");if(e(a,function(t){var e=$("<div class='typebox-character'>");s.append(e),e.text(t),r.push(e)}),c+1<o.length){var p=$("<div class='typebox-character typebox-space'>");s.append(p),p.html(t.spaceCharacter),r.push(p)}}),r},o=function(t){i&&(e(i,function(t){t.removeClass("typebox-active")}),i[t].addClass("typebox-active"))},c=function(){i&&e(i,function(t){t.removeClass("typebox-active")})};return i=r(t.string),o(0),{$tb:n,setString:function(t){i=r(t),o(0)},highlightPosition:o,endHighlight:c}},i=function(t){return{position:0,string:t.string,next:t.string[0]||!1,started:!1,complete:!1}},r=function(e,r){r=t(r,{string:"",selector:e,spaceCharacter:"&nbsp;"});var o=n(r),c=i(r),s={state:function(){return c},reset:function(t){void 0!==t&&(r.string=t),o.setString(r.string),c=i(r)},applyCharacter:function(t){return"space"===t&&(t=" "),c.string?c.complete?{complete:!0}:(c.started=!0,c.next!==t?{accurate:!1,complete:!1,next:c.next}:(c.position++,c.next=c.string[c.position],void 0===c.next?(c.complete=!0,o.endHighlight(),{accurate:!0,complete:!0,next:!1}):(o.highlightPosition(c.position),{accurate:!0,complete:!1,next:c.next}))):{started:!1}}};return s},o=r,c="typebox";"undefined"!=typeof exports?module.exports=o:"function"==typeof define&&define.amd?define(c,function(){return o}):window[c]=o}();